@using Kendo.Mvc.UI
<div class="">
    @(Html.Kendo().DropDownList()
                            .Name("Category.ID")
                            .DataValueField("ID").DataTextField("Name")
                            .OptionLabel(new { Name = "Root", ID = "root" })
                            .MinLength(3)
                            //.Events(x => x.Select("onSelectCategoryValue"))
                            .DataSource(sorce => sorce
                                .Custom()
                                .Group(g => g.Add("ParentName", typeof(string)))
                                .Transport(transport => transport
                                .Read(read =>
                                        read.Action("Category_Read", "RecipesEditing")
                                    )
                                )
                            )
                            .ValuePrimitive(true)
    )
    <span data-for="Category.ID" class="k-invalid-msg"></span>
    <hr />
    <div class="input-group cat-input">
        <input id="newCategoryName" name="newCategoryName" type="text" class="form-control" placeholder="New Category Name"/>
        <input type="button" value="Add category" onclick="addNewCategory()" class="btn btn-success"/>
    </div>
</div>
<script>
    function addNewCategory(e) {
        var newCatTextBoxValue = document.getElementById("newCategoryName").value;
        if (newCatTextBoxValue.length >= 5) {
            var dropdownlist = $('#Category_ID').data("kendoDropDownList");
            var parentCatID = dropdownlist.value();
            var newCatParentName = parentCatID === "root" ? "Root" : dropdownlist.text();
            var newCatItem = {
                ID: "",
                Name: newCatTextBoxValue,
                ParentName: newCatParentName
            };

            $('#Category_ID').data("kendoDropDownList").dataSource.add(newCatItem);
            $('#Category_ID').data("kendoDropDownList")
                .select(function (dataItem) {
                    return dataItem.Name === newCatItem.Name;
                });
        }
    };
</script>